{"version":3,"sources":["AdminUI.js","index.js"],"names":["AdminUI","props","state","data","keycloak","authenticated","handleSubmit","bind","Keycloak","kcconfig","init","onLoad","then","setState","event","fetch","config","backend","response","json","console","log","JSON","stringify","preventDefault","this","onSubmit","type","value","Component","App","className","ReactDOM","render","document","getElementById"],"mappings":"qSAoDeA,E,kDA9Cb,WAAYC,GAAQ,IAAD,8BACjB,cAAMA,IACDC,MAAQ,CACCC,KAAM,GACNC,SAAU,KACVC,eAAe,GAE7B,EAAKC,aAAe,EAAKA,aAAaC,KAAlB,gBAPH,E,gEAUE,IAAD,OACZH,EAAWI,IAASC,GAC1BL,EAASM,KAAK,CAACC,OAAQ,mBAAmBC,MAAK,SAAAP,GAC7C,EAAKQ,SAAS,CAAET,SAAUA,EAAUC,cAAeA,S,mCAI1CS,GAAQ,IAAD,OAClBC,MAAMC,EAAOC,QAAQ,UAClBL,MAAK,SAAAM,GAAQ,OAAIA,EAASC,UAE1BP,MAAK,SAAAT,GACJiB,QAAQC,IAAIlB,GACZ,EAAKU,SAAS,CAACV,KAAMmB,KAAKC,UAAUpB,QAGxCW,EAAMU,mB,+BAIN,OAAGC,KAAKvB,MAAME,SACTqB,KAAKvB,MAAMG,cACZ,6BACA,0BAAMqB,SAAUD,KAAKnB,cACnB,2BAAOqB,KAAK,SAASC,MAAM,mBAE7B,2BAAIH,KAAKvB,MAAMC,OAEF,wDAGf,8D,GA1CgB0B,aCAhBC,E,uKAEF,OACE,yBAAKC,UAAU,OACb,+CACA,kBAAC,EAAD,CAASzB,aAAcmB,KAAKnB,oB,GALlBuB,aAWlBG,IAASC,OAAO,kBAAC,EAAD,MAASC,SAASC,eAAe,U","file":"static/js/main.67997ca6.chunk.js","sourcesContent":["import React, {Component} from 'react';\nimport config from './config.json';\nimport kcconfig from './keycloak.json';\nimport Keycloak from 'keycloak-js';\n\nclass AdminUI extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n                  data: '',\n                  keycloak: null,\n                  authenticated: false\n                 };\n    this.handleSubmit = this.handleSubmit.bind(this);\n  }\n\n  componentDidMount() {\n    const keycloak = Keycloak(kcconfig);\n    keycloak.init({onLoad: 'login-required'}).then(authenticated => {\n      this.setState({ keycloak: keycloak, authenticated: authenticated })\n    })\n  }\n\n  handleSubmit(event) {\n    fetch(config.backend+\"/read/\")\n      .then(response => response.json())\n      //wait til the reponse from back end\n      .then(data => {\n        console.log(data)\n        this.setState({data: JSON.stringify(data)});\n      });\n\n    event.preventDefault();\n  }\n  \n  render() {\n    if(this.state.keycloak){\n      if(this.state.authenticated) return(\n        <div>\n        <form onSubmit={this.handleSubmit}>\n          <input type=\"submit\" value=\"Show Database\" />\n        </form>\n        <p>{this.state.data}</p>\n        </div>\n      ); else return(<div>Unable to authenticate!</div>);\n    }\n    return (\n      <div>Initializing Keycloak ...</div>\n    );\n  }\n}\n\nexport default AdminUI;","import React, {Component} from 'react'\nimport ReactDOM from 'react-dom'\nimport './index.css'\nimport AdminUI from './AdminUI';\n\nclass App extends Component {\n  render() {\n    return (\n      <div className=\"App\">\n        <h2>Admin Dashboard</h2>\n        <AdminUI handleSubmit={this.handleSubmit} />\n      </div>\n    )\n  }\n}\n\nReactDOM.render(<App />, document.getElementById('root'))"],"sourceRoot":""}